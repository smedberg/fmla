{"version":3,"sources":["App.js","eligibility_matrix.js","eligibility_display_blue.js","eligibility_checker.js","eligibilities_display.js","index.js","survey_metadata.js"],"names":["App","className","id","RESULTS","not_supported","label","description","not_ca","not_ca_red","html","not_ca_green","md","not_ca_blue","react","React","Component","not_w2","low_earner","high_earner","ca_w2_pregnant_high_earner_1yr_notc","catchall","ELIGIBILITY_MATRIX","answers","why_need_time_off","confirm_state_ca","undefined","which_state","w2_employee","earned_300_dollars","what_color_is_your_rainbow","eligibilities","employ_at_least_5","work_at_least_1_year_1250_hours","planned_c_section","isEligibilityMatch","eligibilityOption","question","expectedResponse","console","log","Eligibility","eligibility","value","createElement","children","renderHTML","EligibilitiesDisplay","props","state","handleChange","bind","e","this","setState","renderValue","i","length","push","eligibilitiesDisplay","ReactDOM","render","StrictMode","document","getElementById","json","onComplete","results","eligibilityMatch","getEligibilityMatch","valuesHash"],"mappings":"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","file":"static/js/main.a635d2f9.chunk.js","sourcesContent":["import './App.css';\nimport React from 'react'; \n\n\n\nfunction App() {\n  return (\n    <div className=\"App\">\n      <div id=\"surveyElement\" />\n      <div id=\"eligibilityResultsContainer\" />\n    </div>\n  );\n}\n\nexport default App;\n","import {EligibilityDisplayBlue} from './eligibility_display_blue.js'\r\n\r\n\r\n/*\r\nThe RESULTS constant contains all results that may be displayed\r\nto users.  For example, one user may get a single result like\r\n'not eligible for any programs', while another use may get multiple\r\nresults like 'you are eligible for FMLA' and 'you are eligible for SNAP'.\r\n*/\r\nconst RESULTS = {\r\n  not_supported: {label: 'Sorry', description: 'This tool does not currently cover non-California workers or non-W-2 workers.'},\r\n  not_ca: {label: 'Sorry', description: 'Only supported for CA residents.  Lorem ipsum.'},\r\n  not_ca_red: {label: 'Sorry', description: 'Only supported for CA residents.  RED.', html: '<b>only</b> supported for CA residents (this is HTML)'},\r\n  not_ca_green: {label: 'Sorry', description: 'Only supported for CA residents.  GREEN.', md: 'only **supported** for CA residents (this is Markdown)'},\r\n  not_ca_blue: {label: 'Sorry', description: 'Only supported for CA residents.  BLUE.', react: EligibilityDisplayBlue},\r\n  not_w2: {label: 'Sorry', description: 'Only supported for W2 recipients.  Lorem ipsum.'},\r\n  low_earner: {label: 'Sorry', description: 'Please check with your employer.  Lorem ipsum.'},\r\n  high_earner: {label: 'Yay!', description: 'We have more work to do here.  Lorem ipsum.'},\r\n  \r\n  //based on latest survey questions\r\n  ca_w2_pregnant_high_earner_1yr_notc: {label: 'CA W2 Pregnant CFRA no-C', description: 'You are eligible for 22 weeks off, with 17 of those as paid time off.'},\r\n  \r\n  catchall: {label: 'Ohno!', description: 'We do not have a coherent response for these choices.  Lorem ipsum.'},\r\n};\r\n\r\n\r\n/*\r\nThe ELIGIBILITY_MATRIX constant describes which users are eligible for\r\nwhich results (from the RESULTS list above.)  A user will first fill in the\r\nsurvey (defined in survey_metadata.js).  The code will store the survey answers,\r\nand attempt to discover an entry in ELIGIBILITY_MATRIX that matches the\r\nanswers that the user supplied.  It does this in order- it checks if the first\r\neligibility choice matches, then if the second one matches, and so forth.\r\nA match ends the process- the first match that's encountered is the \"correct\"\r\nmatch.\r\nEach entry in ELIGIBILITY_MATRIX has a number of parts:\r\n* label: a human-readable description of this entry, for use by admins\r\n* answers: a map of question ID to expected answer.  An answer of `undefined` matches everything.\r\n* eligibilities: a list of the names of entries in the RESULTS map that are relevant for this entry\r\n*/\r\nconst ELIGIBILITY_MATRIX = [\r\n  {\r\n    label: 'Unreported time off requirement',\r\n    answers: {\r\n      why_need_time_off: 'none',\r\n      confirm_state_ca: undefined,\r\n      which_state: undefined,\r\n      w2_employee: undefined,\r\n      earned_300_dollars: undefined,\r\n      what_color_is_your_rainbow: undefined\r\n    },\r\n    eligibilities: ['not_supported']\r\n  },\r\n  {\r\n    label: 'Not California Red',\r\n    answers: {\r\n      why_need_time_off: 'any',\r\n      confirm_state_ca: 'n',\r\n      which_state: undefined,\r\n      w2_employee: undefined,\r\n      earned_300_dollars: undefined,\r\n      what_color_is_your_rainbow: 'red'\r\n    },\r\n    eligibilities: ['not_ca_red']\r\n  },\r\n  {\r\n    label: 'Not California green',\r\n    answers: {\r\n      why_need_time_off: 'any',\r\n      confirm_state_ca: 'n',\r\n      which_state: undefined,\r\n      w2_employee: undefined,\r\n      earned_300_dollars: undefined,\r\n      what_color_is_your_rainbow: 'green'\r\n    },\r\n    eligibilities: ['not_ca_green']\r\n  },\r\n  {\r\n    label: 'Not California blue',\r\n    answers: {\r\n      why_need_time_off: 'any',\r\n      confirm_state_ca: 'n',\r\n      which_state: undefined,\r\n      w2_employee: undefined,\r\n      earned_300_dollars: undefined,\r\n      what_color_is_your_rainbow: 'blue'\r\n    },\r\n    eligibilities: ['not_ca_blue']\r\n  },\r\n  {\r\n    label: 'No W2',\r\n    answers: {\r\n      why_need_time_off: 'any',\r\n      confirm_state_ca: 'y',\r\n      which_state: undefined,\r\n      w2_employee: 'n',\r\n      earned_300_dollars: undefined,\r\n      what_color_is_your_rainbow: undefined\r\n    },\r\n    eligibilities: ['not_w2']\r\n  },\r\n  {\r\n    label: 'Less than $300 in 18 months',\r\n    answers: {\r\n      why_need_time_off: 'any',\r\n      confirm_state_ca: 'y',\r\n      which_state: undefined,\r\n      w2_employee: 'y',\r\n      earned_300_dollars: 'n',\r\n      what_color_is_your_rainbow: undefined\r\n    },\r\n    eligibilities: ['low_earner']\r\n  },\r\n  {\r\n    label: 'TODO: Incomplete',\r\n    answers: {\r\n      why_need_time_off: 'any',\r\n      confirm_state_ca: 'y',\r\n      which_state: undefined,\r\n      w2_employee: 'y',\r\n      earned_300_dollars: 'y',\r\n      what_color_is_your_rainbow: undefined\r\n    },\r\n    eligibilities: ['high_earner']\r\n  },\r\n  \r\n  // adding one scenario based on real survey questions\r\n  {\r\n    label: 'CA W2 Pregnant CFRA no-C',\r\n    answers: {\r\n      why_need_time_off: 'pregnant',\r\n      confirm_state_ca: 'y',\r\n      which_state: undefined,\r\n      w2_employee: 'y',\r\n      earned_300_dollars: 'y',\r\n      employ_at_least_5: 'yes',\r\n      work_at_least_1_year_1250_hours: 'yes',\r\n      planned_c_section: 'no'\r\n    },\r\n    eligibilities: ['high_earner']\r\n  },\r\n  \r\n  // Last item matches everything- all answers are undefined\r\n  {\r\n    label: 'Catch-all',\r\n    answers: {\r\n      why_need_time_off: undefined,\r\n      confirm_state_ca: undefined,\r\n      which_state: undefined,\r\n      w2_employee: undefined,\r\n      earned_300_dollars: undefined,\r\n      what_color_is_your_rainbow: undefined\r\n    },\r\n    eligibilities: ['catchall']\r\n  },\r\n]\r\n\r\nexport {ELIGIBILITY_MATRIX, RESULTS};\r\n","import React from 'react';\r\n\r\nclass EligibilityDisplayBlue extends React.Component {\r\n  render() {\r\n    return <span>only supported for <b>CA</b> residents (this is a React component)</span>\r\n  }\r\n}\r\n\r\nexport {EligibilityDisplayBlue};","import {ELIGIBILITY_MATRIX} from './eligibility_matrix.js';\r\n\r\nfunction getEligibilityMatch(answers) {\r\n  for (let i = 0; i < ELIGIBILITY_MATRIX.length; i++) {\r\n    const eligibilityOption = ELIGIBILITY_MATRIX[i];\r\n    console.log('Checking if answers ', answers, ' match option ', eligibilityOption);\r\n    if (isEligibilityMatch(answers, eligibilityOption)) {\r\n      console.log('Answers ', answers, ' match option ', eligibilityOption);\r\n      return eligibilityOption;\r\n    }\r\n  }\r\n\r\n  console.log('Answers ', answers, ' do not match any option');\r\n  return null;\r\n}\r\n\r\nfunction isEligibilityMatch(answers, eligibilityOption) {\r\n  for (let question in eligibilityOption.answers) {\r\n    const expectedResponse = eligibilityOption.answers[question]\r\n    console.log('Checking if answer for question ', question, ' matches expected answer ', expectedResponse);\r\n    if (expectedResponse === undefined) {\r\n      // We don't care what the answer to this question is, so it's a potential match\r\n      console.log('Answer for question ', question, ' matches expected answer since there IS no expected answer');\r\n      continue;\r\n    }\r\n    if (typeof(answers[question]) === 'undefined') {\r\n      // The user didn't answer this question but we're looking for an answer, so it's not a match\r\n      console.log('Answer for question ', question, ' does NOT matches expected answer since user did not answer the question');\r\n      return false;\r\n    }\r\n    if (answers[question] !== expectedResponse) {\r\n      // The user's answer doesn't match desired response\r\n      console.log('Answer for question ', question, ' does NOT matches expected answer.  Expected ', expectedResponse, ' but got ', answers[question]);\r\n      return false;\r\n    }\r\n    console.log('Answer for question ', question, ' DOES match expected answer.  Expected ', expectedResponse, ' and got ', answers[question]);\r\n  }\r\n\r\n  console.log('Option ', eligibilityOption, ' matches all supplied answers ', answers);\r\n  return true;\r\n}\r\n\r\n\r\nexport {getEligibilityMatch};","import React from 'react';\r\nimport renderHTML from 'react-render-html';\r\nimport ReactMarkdown from 'react-markdown'\r\n\r\nimport {RESULTS} from './eligibility_matrix.js';\r\n\r\nfunction Eligibility(eligibility) {\r\n  console.log(\"Rendering eligibility \", eligibility);\r\n  if (RESULTS[eligibility.value].react) {\r\n    return React.createElement(RESULTS[eligibility.value].react, null);\r\n  } else if (RESULTS[eligibility.value].md) {\r\n    return (\r\n      <div>\r\n        <span>{RESULTS[eligibility.value].label}:</span>&nbsp;<ReactMarkdown children={RESULTS[eligibility.value].md} />\r\n      </div>\r\n    );\r\n  } else if (RESULTS[eligibility.value].html) {\r\n    return (\r\n      <div>\r\n        <span>{RESULTS[eligibility.value].label}:</span>&nbsp;<span>{renderHTML(RESULTS[eligibility.value].html)}</span>\r\n      </div>\r\n    );\r\n  }\r\n  return (\r\n    <div>\r\n      {RESULTS[eligibility.value].label}: {RESULTS[eligibility.value].description}\r\n    </div>\r\n  );\r\n}\r\n\r\nclass EligibilitiesDisplay extends React.Component {\r\n\r\n  constructor(props) {\r\n    super(props);\r\n    this.state = {eligibilities: []};\r\n\r\n    this.handleChange = this.handleChange.bind(this);\r\n  }\r\n\r\n  handleChange(e) {\r\n    this.setState({ eligibilities: e });\r\n  }\r\n\r\n  render() {\r\n    const renderValue = []\r\n    for (let i = 0; i < this.state.eligibilities.length; i++) {\r\n      console.log(\"Rendering eligibilities item \", i, this.state.eligibilities[i]);\r\n      renderValue.push(<Eligibility value={this.state.eligibilities[i]} key={i}/>)\r\n    }\r\n\r\n    return renderValue;\r\n  }\r\n}\r\n\r\nexport {EligibilitiesDisplay};","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport './index.css';\nimport App from './App';\nimport * as Survey from \"survey-react\";\nimport {surveyJSON} from './survey_metadata.js';\nimport {getEligibilityMatch} from './eligibility_checker.js'\nimport {EligibilitiesDisplay} from './eligibilities_display.js'\n\n\nvar eligibilitiesDisplay = 0;\n\nfunction onSurveyComplete(results) {\n  let eligibilityMatch = getEligibilityMatch(results.valuesHash);\n  console.log(\"Survey is complete:\", eligibilityMatch);\n  if (eligibilityMatch !== null) {\n    console.log('In onSurveyComplete, found match ', eligibilityMatch, );\n    eligibilitiesDisplay.handleChange(eligibilityMatch.eligibilities);\n  } else {\n    console.log('In onSurveyComplete, did not find eligibility match ');\n    // No matches- display warning\n  }\n}\n\nReactDOM.render(\n  <React.StrictMode>\n    <App />\n  </React.StrictMode>,\n  document.getElementById('root')\n);\n\nReactDOM.render(\n  <Survey.Survey json={surveyJSON} onComplete={onSurveyComplete}/>,\n  document.getElementById(\"surveyElement\"));\n\neligibilitiesDisplay = ReactDOM.render(React.createElement(EligibilitiesDisplay, null), document.getElementById(\"eligibilityResultsContainer\"));","/*\r\nThe surveyJSON variable contains the definition of the survey\r\nthat will be displayed to users.\r\n\r\nThe JSON can be edited by hand if you're feeling brave.\r\nAlternately, use the GUI at https://surveyjs.io/ can be used\r\nto edit the survey.  Once complete, the JSON for your survey\r\nis available via the \"JSON Editor\" tab in SurveyJS.io.io.\r\n\r\nOnce you have JSON you would like to use, replace the value\r\nof the \"surveyJSON\" variable with that value.  This file should\r\nlook something like:\r\n\r\n  var surveyJSON = [YOUR JSON HERE]\r\n\r\n  export {surveyJSON};\r\n\r\nNOTE: This does NOT define the rules about which users are\r\neligible for which programs.  That information is stored in \r\nthe eligibility_matrix.js file.\r\n*/\r\n\r\nvar surveyJSON = {\r\n \"title\": \"SimpleLeavePlanner\",\r\n \"pages\": [\r\n  {\r\n   \"name\": \"page1\",\r\n   \"elements\": [\r\n    {\r\n     \"type\": \"radiogroup\",\r\n     \"name\": \"why_need_time_off\",\r\n     \"title\": \"Which of the following reasons do you need time off?\",\r\n     \"isRequired\": true,\r\n     \"choices\": [\r\n      {\r\n       \"value\": \"pregnant\",\r\n       \"text\": \"I am pregnant\"\r\n      },\r\n      {\r\n       \"value\": \"care_for_newborn\",\r\n       \"text\": \"I need to care for a newborn\"\r\n      },\r\n      {\r\n       \"value\": \"medical_need\",\r\n       \"text\": \"I have a medical need that requires medical care\"\r\n      }\r\n     ],\r\n     \"hasOther\": true\r\n    },\r\n    {\r\n     \"type\": \"radiogroup\",\r\n     \"name\": \"confirm_state_ca\",\r\n     \"visibleIf\": \"{why_need_time_off} <> 'Other'\",\r\n     \"title\": \"Confirm state = CA?\",\r\n     \"isRequired\": true,\r\n     \"choices\": [\r\n      {\r\n       \"value\": \"y\",\r\n       \"text\": \"Yes\"\r\n      },\r\n      {\r\n       \"value\": \"n\",\r\n       \"text\": \"No\"\r\n      }\r\n     ]\r\n    },\r\n    {\r\n     \"type\": \"dropdown\",\r\n     \"name\": \"which_state\",\r\n     \"visible\": false,\r\n     \"visibleIf\": \"{confirm_state_ca} = 'n'\",\r\n     \"title\": \"Tell us which state or territory you live in\",\r\n     \"choices\": [\r\n      {\r\n       \"value\": \"AL\",\r\n       \"text\": \"Alabama (AL)\"\r\n      },\r\n      {\r\n       \"value\": \"AK\",\r\n       \"text\": \"Alaska (AK)\"\r\n      },\r\n      {\r\n       \"value\": \"AZ\",\r\n       \"text\": \"Arizona (AZ)\"\r\n      },\r\n      {\r\n       \"value\": \"AR\",\r\n       \"text\": \"Arkansas (AR)\"\r\n      },\r\n      {\r\n       \"value\": \"CA\",\r\n       \"text\": \"California (CA)\"\r\n      },\r\n      {\r\n       \"value\": \"CO\",\r\n       \"text\": \"Colorado (CO)\"\r\n      },\r\n      {\r\n       \"value\": \"CT\",\r\n       \"text\": \"Connecticut (CT)\"\r\n      },\r\n      {\r\n       \"value\": \"DE\",\r\n       \"text\": \"Delaware (DE)\"\r\n      },\r\n      {\r\n       \"value\": \"DC\",\r\n       \"text\": \"District of Columbia (DC)\"\r\n      },\r\n      {\r\n       \"value\": \"FL\",\r\n       \"text\": \"Florida (FL)\"\r\n      },\r\n      {\r\n       \"value\": \"GA\",\r\n       \"text\": \"Georgia (GA)\"\r\n      },\r\n      {\r\n       \"value\": \"HI\",\r\n       \"text\": \"Hawaii (HI)\"\r\n      },\r\n      {\r\n       \"value\": \"ID\",\r\n       \"text\": \"Idaho (ID)\"\r\n      },\r\n      {\r\n       \"value\": \"IL\",\r\n       \"text\": \"Illinois (IL)\"\r\n      },\r\n      {\r\n       \"value\": \"IN\",\r\n       \"text\": \"Indiana (IN)\"\r\n      },\r\n      {\r\n       \"value\": \"IA\",\r\n       \"text\": \"Iowa (IA)\"\r\n      },\r\n      {\r\n       \"value\": \"KS\",\r\n       \"text\": \"Kansas (KS)\"\r\n      },\r\n      {\r\n       \"value\": \"KY\",\r\n       \"text\": \"Kentucky (KY)\"\r\n      },\r\n      {\r\n       \"value\": \"LA\",\r\n       \"text\": \"Louisiana (LA)\"\r\n      },\r\n      {\r\n       \"value\": \"ME\",\r\n       \"text\": \"Maine (ME)\"\r\n      },\r\n      {\r\n       \"value\": \"MD\",\r\n       \"text\": \"Maryland (MD)\"\r\n      },\r\n      {\r\n       \"value\": \"MA\",\r\n       \"text\": \"Massachusetts (MA)\"\r\n      },\r\n      {\r\n       \"value\": \"MI\",\r\n       \"text\": \"Michigan (MI)\"\r\n      },\r\n      {\r\n       \"value\": \"MN\",\r\n       \"text\": \"Minnesota (MN)\"\r\n      },\r\n      {\r\n       \"value\": \"MS\",\r\n       \"text\": \"Mississippi (MS)\"\r\n      },\r\n      {\r\n       \"value\": \"MO\",\r\n       \"text\": \"Missouri (MO)\"\r\n      },\r\n      {\r\n       \"value\": \"MT\",\r\n       \"text\": \"Montana (MT)\"\r\n      },\r\n      {\r\n       \"value\": \"NE\",\r\n       \"text\": \"Nebraska (NE)\"\r\n      },\r\n      {\r\n       \"value\": \"NV\",\r\n       \"text\": \"Nevada (NV)\"\r\n      },\r\n      {\r\n       \"value\": \"NH\",\r\n       \"text\": \"New Hampshire (NH)\"\r\n      },\r\n      {\r\n       \"value\": \"NJ\",\r\n       \"text\": \"New Jersey (NJ)\"\r\n      },\r\n      {\r\n       \"value\": \"NM\",\r\n       \"text\": \"New Mexico (NM)\"\r\n      },\r\n      {\r\n       \"value\": \"NY\",\r\n       \"text\": \"New York (NY)\"\r\n      },\r\n      {\r\n       \"value\": \"NC\",\r\n       \"text\": \"North Carolina (NC)\"\r\n      },\r\n      {\r\n       \"value\": \"ND\",\r\n       \"text\": \"North Dakota (ND)\"\r\n      },\r\n      {\r\n       \"value\": \"OH\",\r\n       \"text\": \"Ohio (OH)\"\r\n      },\r\n      {\r\n       \"value\": \"OK\",\r\n       \"text\": \"Oklahoma (OK)\"\r\n      },\r\n      {\r\n       \"value\": \"OR\",\r\n       \"text\": \"Oregon (OR)\"\r\n      },\r\n      {\r\n       \"value\": \"PA\",\r\n       \"text\": \"Pennsylvania (PA)\"\r\n      },\r\n      {\r\n       \"value\": \"RI\",\r\n       \"text\": \"Rhode Island (RI)\"\r\n      },\r\n      {\r\n       \"value\": \"SC\",\r\n       \"text\": \"South Carolina (SC)\"\r\n      },\r\n      {\r\n       \"value\": \"SD\",\r\n       \"text\": \"South Dakota (SD)\"\r\n      },\r\n      {\r\n       \"value\": \"TN\",\r\n       \"text\": \"Tennessee (TN)\"\r\n      },\r\n      {\r\n       \"value\": \"TX\",\r\n       \"text\": \"Texas (TX)\"\r\n      },\r\n      {\r\n       \"value\": \"UT\",\r\n       \"text\": \"Utah (UT)\"\r\n      },\r\n      {\r\n       \"value\": \"VT\",\r\n       \"text\": \"Vermont (VT)\"\r\n      },\r\n      {\r\n       \"value\": \"VA\",\r\n       \"text\": \"Virginia (VA)\"\r\n      },\r\n      {\r\n       \"value\": \"WA\",\r\n       \"text\": \"Washington (WA)\"\r\n      },\r\n      {\r\n       \"value\": \"WV\",\r\n       \"text\": \"West Virginia (WV)\"\r\n      },\r\n      {\r\n       \"value\": \"WI\",\r\n       \"text\": \"Wisconsin (WI)\"\r\n      },\r\n      {\r\n       \"value\": \"WY\",\r\n       \"text\": \"Wyoming (WY)\"\r\n      }\r\n      ]\r\n    },\r\n    {\r\n     \"type\": \"radiogroup\",\r\n     \"name\": \"w2_employee\",\r\n     \"visible\": false,\r\n     \"visibleIf\": \"{confirm_state_ca} = 'y'\",\r\n     \"title\": \"Are you currently an employee who receives a W-2 at the end of the year? \",\r\n     \"description\": \"(If you are currently self-employed, an independent contractor, or unemployed, answer No.) \",\r\n     \"isRequired\": true,\r\n     \"choices\": [\r\n      {\r\n       \"value\": \"y\",\r\n       \"text\": \"Yes\"\r\n      },\r\n      {\r\n       \"value\": \"n\",\r\n       \"text\": \"No\"\r\n      }\r\n     ]\r\n    },\r\n    {\r\n     \"type\": \"radiogroup\",\r\n     \"name\": \"earned_300_dollars\",\r\n     \"visible\": false,\r\n     \"visibleIf\": \"{confirm_state_ca} = 'y' and {w2_employee} = 'y'\",\r\n     \"title\": \"Have you earned at least $300 over the last 18 months?\",\r\n     \"description\": \"(It's ok if you earned the $300 over many paychecks, and from different employers. It all counts.)\",\r\n     \"isRequired\": true,\r\n     \"choices\": [\r\n      {\r\n       \"value\": \"y\",\r\n       \"text\": \"Yes\"\r\n      },\r\n      {\r\n       \"value\": \"n\",\r\n       \"text\": \"No\"\r\n      }\r\n     ]\r\n    },\r\n    {\r\n     \"type\": \"radiogroup\",\r\n     \"name\": \"employ_at_least_5\",\r\n     \"visibleIf\": \"{confirm_state_ca} = 'y' and {w2_employee} = 'y'\",\r\n     \"title\": \"Does your employer employ at least 5 people, including you?\",\r\n     \"isRequired\": true,\r\n     \"choices\": [\r\n      {\r\n       \"value\": \"yes\",\r\n       \"text\": \"Yes\"\r\n      },\r\n      {\r\n       \"value\": \"no\",\r\n       \"text\": \"No\"\r\n      }\r\n     ]\r\n    },\r\n    {\r\n     \"type\": \"radiogroup\",\r\n     \"name\": \"work_at_least_1_year_1250_hours\",\r\n     \"visible\": false,\r\n     \"visibleIf\": \"{confirm_state_ca} = 'y' and {employ_at_least_5} = 'yes' and {w2_employee} = 'y'\",\r\n     \"title\": \"Have you worked at your current job for at least 1 year, at least part time?\",\r\n     \"description\": \"(Part time means at least 1,250 hours over the last 12 months, or about 25 hours per week.)\",\r\n     \"isRequired\": true,\r\n     \"choices\": [\r\n      {\r\n       \"value\": \"yes\",\r\n       \"text\": \"Yes\"\r\n      },\r\n      {\r\n       \"value\": \"no\",\r\n       \"text\": \"No\"\r\n      }\r\n     ]\r\n    },\r\n    {\r\n     \"type\": \"radiogroup\",\r\n     \"name\": \"planned_c_section\",\r\n     \"visible\": false,\r\n     \"visibleIf\": \"{w2_employee} = 'y' and {why_need_time_off} = 'pregnant'\",\r\n     \"title\": \"Are you planning to have a Cesarean section (C-section)?\",\r\n     \"isRequired\": true,\r\n     \"choices\": [\r\n      {\r\n       \"value\": \"yes\",\r\n       \"text\": \"Yes\"\r\n      },\r\n      {\r\n       \"value\": \"no\",\r\n       \"text\": \"No\"\r\n      }\r\n     ]\r\n    }\r\n   ]\r\n  }\r\n ],\r\n \"triggers\": [\r\n  {\r\n   \"type\": \"complete\",\r\n   \"expression\": \"{why_need_time_off} = 'item2'\"\r\n  },\r\n  {\r\n   \"type\": \"complete\",\r\n   \"expression\": \"{which_state} notempty\"\r\n  },\r\n  {\r\n   \"type\": \"complete\",\r\n   \"expression\": \"{w2_employee} = 'n'\"\r\n  },\r\n  {\r\n   \"type\": \"complete\",\r\n   \"expression\": \"{earned_300_dollars} = 'n'\"\r\n  }\r\n ],\r\n \"showTitle\": false\r\n}\r\n\r\nexport {surveyJSON};\r\n"],"sourceRoot":""}